!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).dmSyntax=t()}(this,function(){"use strict";const n={};function t(n,t){return n.init&&(n=Object.assign({},n)).init(t),n}function e(n,t){return'<span class="'.concat(n,'">',t,"</span>")}function r(n,t){return'<div class="'.concat(n,'">',t,"</div>")}function c(n){var t=n.split("\n");this.rows=t.length,this.cols=t.reduce(function(n,t){return Math.max(t.length,n)},0)}function i(n,t){return'<tspan class="'.concat(n,'">',t,"</tspan>")}function s(n){for(let t=0;t<n.length;t++)n[t]='<text y="'.concat(15.3333*t+11.33,'">',n[t],"</text>");return n.join("")}function u(n,t,e,r,c){const i=8*t+1;return'<svg xmlns="http://www.w3.org/2000/svg" class="'.concat(n,'" viewbox="0 0 ',i," ",15.3333*e-4,'" width="',i,'px"><style>text{ font-size: 13.33px; } ',r,"</style>",c,"</svg>")}function l(t,e){return o(t,/(\b(?:function|case|if|return|new|switch|var|let|const|this|typeof|for|in|while|break|do|continue|null|true|false)\b|=&gt;)/g,e&&e.JS||n.HTML.JS)}function o(n,e,r){n=x(m(n)),r=t(r,n);const c=[];return n=g(n).replace(/(\/\/[^\n]*)|(\/\*([\s\S]*?)\*\/)|(\/(\\\/|[^\/\n])+\/[gim]{0,3})|(([^\\])((?:'(?:\\'|[^'])*')|(?:"(?:\\"|[^"])*")))/g,function(n,t,e,i,s,u,l,o,a){return t?n:e||(null!=s&&""!=s?(a=r.re(s),n="\0B"):(a=r.str(a),n=o+"\0B"),n+p(c,a)+"\0")}).replace(/\/\*([\s\S]*?)\*\//g,function(n){return"\0B"+p(c,h(n,r.rem))+"\0"}).replace(/([^\\]|^)(\/\/[^\n]*)(\n|$)/g,function(n,t,e,i){return t+"\0B"+p(c,r.rem(e))+"\0"+i}).replace(e,r.kw("$1")).replace(/([a-z\_\$][a-z0-9_]*)\s*\(/gi,r.func("$1")+"(").replace(/([{}\[\]\(\)])/g,r.gly("$1")).replace(/\b((?:\d[_\d]*(?:\.\d+)?)|(?:0x[\da-f]+))\b/gi,r.num("$1")).replace(/\0B(\d+)\0/g,function(n,t){return c[t]}),n=r.lines(n.split("\n")),r.block(n)}n.HTML={JS:{rem:function(n){return e("rem",n)},str:function(n){return e("str",n)},re:function(n){return e("re",n)},kw:function(n){return e("kw",n)},gly:function(n){return e("gly",n)},num:function(n){return e("num",n)},func:function(n){return e("func",n)},lines:function(n){return n.join("<br/>")},block:function(n){return r("js",n.replace(/  /g,"  "))}},XML:{rem:function(n){return e("rem",n)},cdatao:function(){return e("cdatao","&lt;![CDATA[")},cdata:function(n){return e("cdata",n)},cdatac:function(){return e("cdatac","]]&gt;")},def:function(n,t){return e("tag","&lt;?"+e("name",n)).concat(t,e("tag","?&gt;"))},tago:function(n,t,r){return e("tag","&lt;"+e("name",n)).concat(t,e("tag",r?"/&gt;":"&gt;"))},tagc:function(n){return e("tag","&lt;/"+e("name",n)+"&gt;")},param:function(n,t){return e("attr",e("name",n)+'="'+e("value",t)+'"')},lines:function(n){return n.join("<br/>")},block:function(n){return r("xml",n.replace(/  /g,"  "))}},CSS:{rem:function(n){return e("rem",n)},sel:function(n){return e("sel",n)},param:function(n,t){return e("name",n)+":"+e("value",t)},lines:function(n){return n.join("<br/>")},block:function(n){return r("css",n.replace(/  /g,"  "))}}},n.HTML.CS=Object.assign({},n.HTML.JS,{block:function(n){return r("cs",n.replace(/  /g,"  "))}}),n.HTML.HTML={XML:n.HTML.XML,CSS:n.HTML.CSS,JS:n.HTML.JS,part:function(n,t,e,r){return n(e,r)},block:function(n){return n}},n.SVG={JS:{css:'.js { font-family: "Courier New", monospace; fill: #000; } .js .rem{ fill: #A0A0A0; } .js .str{ fill: #AA1515;} .js .re { fill: #FF0000; } .js .kw { fill: #0000FF; font-weight: bold; } .js .num { fill: #005700; font-weight: bold; } .js .func { fill: #0000FF; } .js .gly { font-weight: bold; }',init:c,rem:function(n){return i("rem",n)},str:function(n){return i("str",n)},re:function(n){return i("re",n)},kw:function(n){return i("kw",n)},gly:function(n){return i("gly",n)},num:function(n){return i("num",n)},func:function(n){return i("func",n)},lines:s,block:function(n){return u("js",this.cols,this.rows,this.css,n)}},XML:{css:'.xml { font-family: "Courier New", monospace; fill: #000; } .xml .rem { fill: #A0A0A0; } .xml .cdatao, .xml .cdatac { fill: #A0A0A0; } .xml .cdata { fill: #000; } .xml .tag { fill: #0000FF; } .xml .name { fill: #AA1515; font-weight: bold; } .xml .attr { fill: #AA1515; } .xml .attr .name { fill: #FF0000; font-weight: normal; } .xml .attr .value { fill: #0000FF; }',init:c,rem:function(n){return i("rem",n)},cdatao:function(){return i("cdatao","&lt;![CDATA[")},cdata:function(n){return i("cdata",n)},cdatac:function(){return i("cdatac","]]&gt;")},def:function(n,t){return i("tag","&lt;?"+i("name",n)).concat(t,i("tag","?&gt;"))},tago:function(n,t,e){return i("tag","&lt;"+i("name",n)).concat(t,i("tag",e?"/&gt;":"&gt;"))},tagc:function(n){return i("tag","&lt;/"+i("name",n)+"&gt;")},param:function(n,t){return i("attr",i("name",n)+'="'+i("value",t)+'"')},lines:s,block:function(n){return u("xml",this.cols,this.rows,this.css,n)}},CSS:{css:'.css { font-family: "Courier New", monospace; fill: #000; } .css .rem { fill: #A0A0A0; } .css .sel { fill: #AA1515; } .css .name { fill: #FF0000; font-weight: normal; } .css .value { fill: #0000FF; }',init:c,rem:function(n){return i("rem",n)},sel:function(n){return i("sel",n)},param:function(n,t){return i("name",n)+":"+i("value",t)},lines:s,block:function(n){return u("css",this.cols,this.rows,this.css,n)}}},n.SVG.CS=Object.assign({},n.SVG.JS,{block:function(n){return u("cs",this.cols,this.rows,this.css,n)},css:'.cs { font-family: "Courier New", monospace; fill: #000; } .cs .rem{ fill: #A0A0A0; } .cs .str{ fill: #AA1515;} .cs .re { fill: #FF0000; } .cs .kw { fill: #0000FF; font-weight: bold; } .cs .num { fill: #005700; font-weight: bold; } .cs .func { fill: #0000FF; } .cs .gly { font-weight: bold; }'}),n.SVG.HTML={css:n.SVG.XML.css+n.SVG.CSS.css+n.SVG.JS.css,init:function(n){this.rows=0,this.cols=0,this.id=0,this.defs=[]},XML:Object.assign({},n.SVG.XML,{init:null,block:function(n){return n}}),CSS:Object.assign({},n.SVG.CSS,{init:null,block:function(n){return n}}),JS:Object.assign({},n.SVG.JS,{init:null,block:function(n){return n}}),part:function(n,t,e,r){const i={};var s,u,l;c.call(i,e),this.defs.push((s=t,u="b"+this.id,l=n(e,r),'<g id="'.concat(u,'" class="',s,'">',l,"</g>")));const o='<use href="#b'.concat(this.id,'" y="',15.3333*this.rows,'"/>');return this.id++,this.rows+=i.rows,this.cols=Math.max(this.cols,i.cols),o},block:function(n){return u("html",this.cols,this.rows,this.css,"<defs>".concat(this.defs.join(""),"</defs>",n))}};const a={"<":"&lt;",">":"&gt;","&":"&amp;"};function f(n){return a[n]}function g(n){return n.replace(/[<>&]/g,f)}function m(n){return n.replace(/(\r\n|\r)/g,"\n")}function h(n,t){n=n.split("\n");for(let e=0;e<n.length;e++)n[e]=t(n[e]);return n.join("\n")}function p(n,t){return n.push(t),n.length-1}function d(n,t){return n.replace(/([a-z][a-z0-9_-]*)[\s\n]*=[\s\n]*"([^"]*)"/g,function(n,e,r){return t(e,g(r))})}let S="                             ";const b=/^([^\t\n]*)(\t+)/gm;function w(n){for(;n>S.length;)S+=S;return S.substring(0,n)}function x(n){let t=!0;for(;t;)t=!1,n=n.replace(b,function(n,e,r){return t=!0,e+w(4*r.length-e.length%4)});return n}return{JS:l,JSON:l,CS:function(t,e){return o(t,/(\b(?:public|private|protected|internal|readonly|virtual|override|class|using|namespace|void|is|as|string|int|float|double|decimal|foreach|object|enum|interface|static|base|null|case|if|return|new|switch|var|const|this|typeof|for|in|while|break|do|continue|get|set|true|false|value)\b|=&gt;)/g,e&&e.CS||n.HTML.CS)},CSS:function(e,r){e=x(m(e)),r=t(r&&r.CSS||n.HTML.CSS,e);const c=[];return r.block(r.lines(g(e).replace(/\/\*([\s\S]*?)\*\//g,function(n,t){return"\0C"+p(c,h(n,r.rem))+"\0"}).replace(/([\.#:]{0,1}[a-z0-9_]+[^\{~\0]*)(\{)([^}]*)(\})/gi,function(n,t,e,c,i){return h(t,r.sel)+e+function(n,t){return n.replace(/([^:\n]+):([^;]*)(;)?/g,function(n,e,r,c){return t(e,r).concat(null==c?"":c)})}(c,r.param)+i}).replace(/\0C(\d+)\0/g,function(n,t){return c[t]}).split("\n")))},XML:function(e,r){e=x(m(e)),r=t(r&&r.XML||n.HTML.XML,e);const c=[];return r.block(r.lines(e.replace(/<!--([\s\S]*?)-->/g,function(n,t){return"\0B"+p(c,h("&lt;!--"+g(t)+"--&gt;",r.rem))+"\0"}).replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,function(n,t){return"\0B"+p(c,r.cdatao()+h(g(t),r.cdata)+r.cdatac())+"\0"}).replace(/<(((\?)?([a-z][a-z0-9:_-]*)([^>]*)\3)|(\/([a-z][a-z0-9:_-]*)[\s\n]*))>/g,function(n,t,e,c,i,s,u,l){return"?"==c?r.def(i,d(s,r.param)):null!=l&&""!=l?r.tagc(l):null==s||""==s?r.tago(i,"",!1):"/"==s.substring(s.length-1)?r.tago(i,d(s.substring(0,s.length-1),r.param),!0):r.tago(i,d(s,r.param),!1)}).replace(/\0B(\d+)\0/g,function(n,t){return c[t]}).split("\n")))},HTML:function(e,r){e=x(m(e)),r=t(r&&r.HTML||n.HTML.HTML,e);const c=[],i=/<(script|style)([^>]*?)>(?:\s*\n)?([\s\S]*?)[\n]*(\s*<\/\1>)/gi;let s=0,u=null;for(;u=i.exec(e);){let n=(u.index>s?e.substring(s,u.index):"").concat("<",u[1],u[2],">");switch(c.push(r.part(this.XML,"xml",n,r)),u[1]){case"style":c.push(r.part(this.CSS,"css",u[3],r));break;case"script":c.push(r.part(this.JS,"js",u[3],r))}s=u.index+u[0].length-u[4].length}return s<e.length&&c.push(r.part(this.XML,"xml",e.substr(s),r)),r.block(c.join(""))},renders:n}});